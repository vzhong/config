#!/usr/bin/env python
import sys
import numpy as np
import chainer

if __name__ == '__main__':
    from chainer import cuda
    steal = int(sys.argv[1])
    print('holding gpu {}'.format(steal))
    cuda.get_device(steal).use()

    bytes_to_steal = 1e9 * 1

    a = np.zeros(bytes_to_steal)
    v = chainer.Variable(a)
    v.to_gpu()

    input('enter to exit')
